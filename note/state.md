# 状态转换的重构

目前的状态转换，使用的是多个if语句相互跳转的方式进行。可以是可以，不过有点难看。

## 改进方案1：

将state变成一个类，然后就调用 state.is_01()， state.to_01()等函数手动进行状态转换。

问题：只是好看了一点点，仍然没有摆脱使用if语句跳转的问题。

## 改进方案2：

如此进行状态转换

http://design-patterns.readthedocs.io/zh_CN/latest/behavioral_patterns/state.html

```py
class State01()

State01(msg)
```

将一个消息传进一个状态类，由状态类负责对消息进行处理，并发送相关消息。因此在状态转换上，只会看到收消息的过程

另外封装一个函数，这个函数根据当前的状态，发送相应的消息。

所以我需要一个函数，这个函数根据收到的消息，改变当前的状态，并放回一个当前应有的状态类

另一个函数，


## 重构方案结论：

使用if + state类


1. 类成员变量：两个state类，还有一个initial值
1. 